# filecabinet v1.0.0

一个面向本地与内网使用的静态资源浏览器与轻量服务，专注“直出原始文件”和简洁预览。

## 核心特性

- 直链访问：点击文件即以其原始类型输出，无额外包裹结构
- 文本直显：`txt/md/js/css/json/yml/yaml` 直接纯文本显示
- 图片直显：`png/jpg/jpeg/gif/webp/svg/bmp/ico` 直接原图显示
- 字体预览：`ttf/otf/woff/woff2` 进入预览页，示例文本使用所选字体渲染，可调整文字与字号，并可下载源文件
- 目录统计：构建时生成 `sitemap.json`，包含文件数量与字节聚合大小
- 深浅主题：支持深色模式切换与过渡动画
- 完全静态：所有文件仅在构建时生成，不包含动态内容
- 服务自包含：无需数据库与外部服务，启动即用
- Git上传：更新静态文件时通过git上传至仓库，再由服务商免费提供的静态服务实时监控仓库的变动并重新部署。 **简单来说，你每次上传文件只需要在 `public/` 下添加文件，并使用git上传即可。**

## 项目结构

- `public/` 资源根目录（被索引并在页面显示）
  - `img/` 图片资源
  - `js/` 代码与文本示例
  - `html/` 示例页面（以纯文本输出源码）
- `index.html` 文件浏览器前端
- `server-dev.js` 简易静态服务（端口 `5500`）
- `generate-sitemap.js` 生成资源清单 `sitemap.json`
- `sw2.js`（按需）客户端 Service Worker（当前禁用字体拦截）

## 使用方法

1. 安装依赖并启动本地服务：
   
```bash
npm install ::安装依赖
npm run dev ::包含生成sitemap与启动http
```

1. 浏览器访问：
   - `http://127.0.0.1:5500/`
2. 资源管理：将文件放入 `public/` 子目录即可在页面中显示

## 设计约定

- 仅索引 `public/` 下的资源；根目录文件不在文件树中显示
- 文本与代码直出纯文本；图片原始渲染；字体使用预览页
- 字体预览页通过 `@font-face` 与 `font-display:block` 保证示例文本首屏绑定所选字体
- 真实字节大小：所有文件大小均使用 `fs.statSync.size`；目录 `dsz` 为递归聚合总字节

## 版本信息

- 版本：`v1.0.0`
- 变更要点：
  - 添加字体文件预览功能
  - 重构整体项目结构

## 常见问题

- HTML 源码展示：`public` 下的 `.html/.htm` 以纯文本输出，不进行渲染
- 本项目纯静态，各文件仅在部署时生成一次。完全可以在免费部署静态的服务商（如Netlify）中部署

## 许可

本项目全部采用MIT协议许可，您可以在遵守协议的前提下自由使用、修改与分发本项目的代码。
