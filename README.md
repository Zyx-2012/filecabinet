# filecabinet v1.0.0

一个面向本地与内网使用的静态资源浏览器与轻量服务，专注“直出原始文件”和简洁预览。

## 核心特性

- 直链访问：点击文件即以其原始类型输出，无额外包裹结构
- 文本直显：`txt/md/js/css/json/yml/yaml` 直接纯文本显示
- 图片直显：`png/jpg/jpeg/gif/webp/svg/bmp/ico` 直接原图显示
- 字体预览：`ttf/otf/woff/woff2` 进入预览页，示例文本使用所选字体渲染，可调整文字与字号，并可下载源文件
- 目录统计：生成 `sitemap.json`，包含文件数量与字节聚合大小（`dsz`）
- 深浅主题：支持深色模式切换与过渡动画
- 服务自包含：无需数据库与外部服务，启动即用

## 项目结构

- `public/` 资源根目录（被索引并在页面显示）
  - `font/` 字体资源
  - `img/` 图片资源
  - `js/` 代码与文本示例
  - `html/` 示例页面（以纯文本输出源码）
- `index.html` 文件浏览器前端
- `server-dev.js` 简易静态服务（端口 `5500`）
- `generate-sitemap.js` 生成资源清单 `sitemap.json`
- `sw2.js`（按需）客户端 Service Worker（当前禁用字体拦截）

## 使用方法

1. 安装依赖并启动本地服务：
   - `npm run dev`
2. 浏览器访问：
   - `http://127.0.0.1:5500/`
3. 资源管理：将文件放入 `public/` 子目录即可在页面中显示（`README.md` 被忽略，不会展示）

## 设计约定

- 仅索引 `public/` 下的资源；根目录文件不在文件树中显示
- 文本与代码直出纯文本；图片原始渲染；字体使用预览页
- 字体预览页通过 `@font-face` 与 `font-display:block` 保证示例文本首屏绑定所选字体
- 真实字节大小：所有文件大小均使用 `fs.statSync.size`；目录 `dsz` 为递归聚合总字节

## 版本信息

- 版本：`v1.0.0`
- 变更要点：
  - 移除密码保护与加密相关流程
  - 文本/图片/字体按要求调整预览与直出策略
  - 目录与文件大小统计完善
  - 首页移除不必要入口与缓存干扰

## 常见问题

- 字体无法预览或下载报错：请确认文件为真实有效的 `ttf/otf/woff/woff2`，占位或损坏文件会导致浏览器报错；必要时转换为 `woff/woff2`
- `.ttc/.fon` 等格式：不保证在网页中可用，建议使用标准 Web 字体格式
- HTML 源码展示：`public` 下的 `.html/.htm` 以纯文本输出，不进行渲染

## 许可

本项目用于本地与内网资源浏览与预览，不包含外部版权文件；引入的第三方资源请遵循其各自许可。
